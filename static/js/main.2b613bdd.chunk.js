(this["webpackJsonpmy-first-app"]=this["webpackJsonpmy-first-app"]||[]).push([[0],{312:function(e,t,a){},313:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),s=a.n(c),i=a(6),o=a(7),l=a(23),u=function(){function e(t){Object(i.a)(this,e),this.indexStore=void 0,this.auth=null,Object(l.l)(this),this.indexStore=t}return Object(o.a)(e,[{key:"setAuth",value:function(e){this.auth=e}}]),e}(),j=a(3),d=a.n(j),b=a(8),h=[451,431,456,468,460,426,429,449],O=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){function e(t){Object(i.a)(this,e),this.indexStore=void 0,this.data=[],this.startDate=void 0,this.today=void 0,Object(l.l)(this);var a=function(e){var t=new Date,a=new Date;return a.setDate(t.getDate()-e),["".concat(a.toJSON().slice(0,10)),"".concat(t.toJSON().slice(0,10))]}(40);this.startDate=a[0],this.today=a[1],this.indexStore=t}return Object(o.a)(e,[{key:"fetchData",value:function(){var e=this;h.forEach(function(){var t=Object(b.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O("https://www.nbrb.by/api/exrates/rates/".concat(a));case 2:n=t.sent,e.putRate(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"putRate",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRateStatistics(t.Cur_ID);case 2:a=e.sent,t.Cur_Statistics=a.Cur_Statistics,t.Chart_Data=a.Chart_Data,this.data.push(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRateStatistics",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("https://www.nbrb.by/API/ExRates/Rates/Dynamics/".concat(t,"?startDate=").concat(this.startDate,"&endDate=").concat(this.today));case 2:return a=e.sent,n=this.convertStatToChart(a),e.abrupt("return",{Cur_Statistics:a,Chart_Data:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"convertStatToChart",value:function(e){var t={labels:[],data:[]};return e.map((function(e){e.Date=e.Date.slice(5,10),t.labels.push(e.Date),t.data.push(e.Cur_OfficialRate)})),t}}]),e}(),v=function(){function e(t){var a=this;Object(i.a)(this,e),this.indexStore=void 0,this.savings=[],this.converted=0,this.date=void 0,this.error=!1,this.checkForRates=function(){return!!a.indexStore.RatesStore.data.length},Object(l.l)(this),this.indexStore=t,this.error=this.checkForRates(),this.date=t.RatesStore.today,this.getFromDB()}return Object(o.a)(e,[{key:"addSaving",value:function(e){e.value=Number(e.value);var t=this.savings.findIndex((function(t){return t.name===e.name}));-1===t?this.savings.push(e):this.savings[t].value+=e.value,this.saveToDB()}},{key:"saveToDB",value:function(){this.convertToBYN(),localStorage.setItem("savings",JSON.stringify(this.savings))}},{key:"getFromDB",value:function(){var e=this,t=localStorage.getItem("savings");t&&JSON.parse(t).forEach((function(t){return e.addSaving(t)}));this.convertToBYN()}},{key:"convertToBYN",value:function(){var e=0,t=this.indexStore.RatesStore.data;this.savings.forEach((function(a){var n=t.findIndex((function(e){return e.Cur_Abbreviation===a.name}));if(-1!==n){var r=t[n];a.rate=r.Cur_OfficialRate,a.scale=r.Cur_Scale,e+=a.value*a.rate/a.scale}})),this.converted=e}}]),e}(),f=new(function(){function e(){Object(i.a)(this,e),this.RatesStore=void 0,this.savingsStore=void 0,this.authStore=void 0,Object(l.l)(this),this.RatesStore=new x(this),this.savingsStore=new v(this),this.authStore=new u(this)}return Object(o.a)(e,[{key:"initRatesStore",value:function(){this.RatesStore.fetchData()}}]),e}()),p=a(58),g=a(37),m=a(24),S=a(408),C=a(15),y=a(388),w=a(361),D=a(390),k=a(392),R=a(393),I=a(391),_=a(366),T=a(64),B=a(71),L=a(2),F=Object(g.a)((function(e){var t=e.authStore.auth,a=Object(m.f)(),r=n.useState(""),c=Object(C.a)(r,2),s=c[0];c[1];return Object(L.jsx)(w.a,{sx:{flexGrow:1},children:Object(L.jsx)(y.a,{children:Object(L.jsxs)(D.a,{children:[Object(L.jsx)(I.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(L.jsx)(_.a,{})}),Object(L.jsx)(k.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:s}),t?Object(L.jsx)(R.a,{color:"inherit",onClick:function(){a.push("/login")},children:"Login"}):Object(L.jsx)(R.a,{color:"inherit",onClick:function(){var e=Object(T.a)();Object(B.c)(e)},children:"Log out"})]})})})})),N=a(394),A=a(395),E=a(396),M=a(367),U=function(){var e=Object(n.useState)("rates"),t=Object(C.a)(e,2),a=t[0],r=t[1];return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(M.a,{sx:{position:"fixed",bottom:0,left:0,width:"100%"},children:Object(L.jsxs)(N.a,{value:a,onChange:function(e,t){r(t)},children:[Object(L.jsx)(A.a,{label:"Rates",value:"rates",icon:Object(L.jsx)(E.a,{children:"trending_up"}),component:p.b,to:"/currency-MUI-pages/rates"}),Object(L.jsx)(A.a,{label:"Savings",value:"savings",icon:Object(L.jsx)(E.a,{children:"savings"}),component:p.b,to:"/currency-MUI-pages/savings"}),Object(L.jsx)(A.a,{label:"Converter",value:"converter",icon:Object(L.jsx)(E.a,{children:"loop"}),component:p.b,to:"/currency-MUI-pages/converter"})]})})})},J=function(){return Object(n.useEffect)((function(){document.title="Curremcy converter"})),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(k.a,{variant:"h4",component:"div",children:"It's going to be currency converter here."})})},Y=a(30),P=a(105),q=a(177),W=function(e){var t=e.labels,a=e.data,n=e.label;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(q.a,{data:{labels:t,datasets:[{label:n,data:a,fill:"origin",backgroundColor:["rgba(0, 0, 0, 0.2)"],borderColor:["rgba(0, 0, 0, 1)"],borderWidth:1}]}})})},G=a(397),V=a(398),z=a(382),Z=a(399),K=a(400),X=a(10),$=a(368),H=["expand"],Q=Object(X.a)((function(e){e.expand;var t=Object(P.a)(e,H);return Object(L.jsx)(I.a,Object(Y.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),ee=function(e){var t=e.rate,a=e.startDate,r=e.endDate,c=Object(n.useState)(!1),s=Object(C.a)(c,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){}),[a,r,t.Cur_ID]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(G.a,{children:[Object(L.jsx)(V.a,{avatar:Object(L.jsx)(z.a,{children:t.Cur_Abbreviation}),title:"\u0417\u0430 ".concat(t.Cur_Scale," ").concat(t.Cur_Name),subheader:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043a\u0443\u0440\u0441: ".concat(t.Cur_OfficialRate),action:Object(L.jsx)(Q,{expand:i,onClick:function(){o(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(L.jsx)($.a,{})})}),Object(L.jsx)(Z.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(L.jsx)(K.a,{children:t.Chart_Data.labels.length&&t.Chart_Data.data.length?Object(L.jsx)(W,{labels:t.Chart_Data&&t.Chart_Data.labels,data:t.Chart_Data&&t.Chart_Data.data,label:t.Cur_Abbreviation}):Object(L.jsx)(k.a,{textAlign:"center",children:"There is no valid data for chart."})})})]})})},te=a(369),ae=a(401),ne=Object(g.a)((function(e){var t=e.store,a=t.RatesStore.data;return Object(n.useEffect)((function(){a.length||t.initRatesStore()}),[t,a]),Object(L.jsx)(M.a,{sx:{padding:"1.5vh 3%"},children:Object(L.jsx)(te.a,{direction:"column",spacing:2,children:a.length?a.map((function(e){return Object(L.jsx)(ee,{rate:e,startDate:"2021-07-05",endDate:"2021-10-29"},e.Cur_ID)})):Object(L.jsxs)(M.a,{sx:{display:"flex",justifyContent:"center"},children:[" ",Object(L.jsx)(ae.a,{})," "]})})})})),re=a(61),ce=a(173),se=["onChange","prefix"],ie=r.a.forwardRef((function(e,t){var a=e.onChange,n=(e.prefix,Object(P.a)(e,se));return Object(L.jsx)(ce.a,Object(Y.a)(Object(Y.a)({},n),{},{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:""}))})),oe=a(383),le=a(402),ue=a(403),je=a(379),de=a(380),be=a(381),he=a(375),Oe=a(378),xe=a(406),ve=Object(g.a)((function(e){var t=e.onClose,a=e.open,r=e.mode,c=e.savingObj,s=e.store,i=Object(n.useState)(null),o=Object(C.a)(i,2),l=o[0],u=o[1],j=Object(re.b)({defaultValues:{name:"",value:0},mode:"onChange"}),d=j.reset,b=j.formState.errors,h=j.handleSubmit,O=j.control;return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(oe.a,{open:a,children:[Object(L.jsx)(le.a,{children:"edit"===r?"Edit ".concat(c&&c.name," saving"):"Add Savings"}),Object(L.jsxs)("form",{onSubmit:h((function(e){s.savingsStore.addSaving(e),u(null),t(d)})),children:[Object(L.jsxs)(ue.a,{children:[Object(L.jsxs)(te.a,{direction:"row",children:[Object(L.jsx)(je.a,{children:Object(L.jsx)(re.a,{name:"value",control:O,rules:{required:{value:!0,message:"Please fill this"}},render:function(e){var t=e.field;return Object(L.jsx)(de.a,Object(Y.a)(Object(Y.a)({},t),{},{error:!!b.value,helperText:b.value?b.value.message:null,margin:"normal",label:"Amount",autoComplete:"off",InputProps:{inputComponent:ie},variant:"standard"}))}})}),Object(L.jsx)(je.a,{margin:"normal",sx:{width:"150px"},children:Object(L.jsx)(re.a,{name:"name",control:O,rules:{required:!0},render:function(e){var t=e.field;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(be.a,{id:"demo-simple-select-label",error:!!b.name,children:"Currency"}),Object(L.jsxs)(he.a,Object(Y.a)(Object(Y.a)({},t),{},{labelId:"currency-select-label",id:"currency-select",error:!!b.name,label:"Currency",variant:"standard",children:[Object(L.jsx)(Oe.a,{value:"USD",children:"$"}),Object(L.jsx)(Oe.a,{value:"EUR",children:"\u20ac"}),Object(L.jsx)(Oe.a,{value:"RUB",children:"\u20bd"}),Object(L.jsx)(Oe.a,{value:"GBP",children:"\xa3"}),Object(L.jsx)(Oe.a,{value:"BTC",children:"\u20bf"}),Object(L.jsx)(Oe.a,{value:"TRY",children:"\u20a4"})]}))]})}})})]}),l?Object(L.jsx)(k.a,{color:"red",children:l}):null]}),Object(L.jsxs)(xe.a,{children:[Object(L.jsx)(R.a,{variant:"contained",type:"submit",children:"Confirm"}),Object(L.jsx)(R.a,{onClick:function(){t(d)},type:"reset",children:"Cansel"})]})]})]})})})),fe=Object(g.a)((function(e){var t=e.store,a=t.savingsStore.converted,r=Object(n.useState)(""),c=Object(C.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){t.RatesStore.data.length?t.savingsStore.convertToBYN():i("You probably need to load rates first")}),[]),Object(L.jsx)(k.a,{variant:"h4",textAlign:"center",children:s||a.toFixed(2)})})),pe=a(386),ge=Object(g.a)((function(e){var t=e.savings;return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(M.a,{sx:{padding:"1.5rem 0"},children:[Object(L.jsx)(te.a,{direction:"row",spacing:2,justifyContent:"space-evenly",sx:{flexWrap:"wrap",paddingBottom:"1rem"},children:t.length?t.map((function(e){return Object(L.jsx)(pe.a,{variant:"outlined",color:"primary",label:"".concat(e.value," ").concat(e.name),onClick:function(){return function(e){console.log("value: ".concat(e.value,", name: ").concat(e.name))}(e)}},e.name)})):null}),Object(L.jsx)(fe,{store:f})]})})})),me=a(407),Se=a(372),Ce=Object(g.a)((function(e){var t=e.store,a=t.savingsStore.savings,r=Object(n.useState)(!1),c=Object(C.a)(r,2),s=c[0],i=c[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ge,{savings:a}),Object(L.jsx)(ve,{onClose:function(e){i(!1),e()},open:s,store:t}),Object(L.jsx)(me.a,{sx:{margin:"auto 10px 10px auto",position:"fixed",right:"1.5rem",bottom:"5rem"},color:"primary","aria-label":"add",onClick:function(){i(!0)},children:Object(L.jsx)(Se.a,{})})]})})),ye=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(F,{authStore:f.authStore}),Object(L.jsx)(S.a,{maxWidth:"sm",sx:{padding:"4rem 0"},children:Object(L.jsxs)(m.c,{children:[Object(L.jsxs)(m.a,{path:"/currency-MUI-pages/savings",children:[" ",Object(L.jsx)(Ce,{store:f})," "]}),Object(L.jsxs)(m.a,{path:"/currency-MUI-pages/converter",children:[" ",Object(L.jsx)(J,{})," "]}),Object(L.jsxs)(m.a,{path:"/currency-MUI-pages/rates",children:[" ",Object(L.jsx)(ne,{store:f})," "]})]})}),Object(L.jsx)(U,{})]})},we=a(410),De=a(409),ke=function(){var e=function(){var e=Object(m.f)(),t=Object(B.a)(),a=function(t){e.push(t)};return{goTo:a,handleLogin:function(e){Object(B.b)(t,e.login,e.password).then((function(e){var t=e.user;console.log(t),a("/currency-MUI-pages/rates")})).catch((function(e){e.code,e.message}))}}}(),t=e.goTo,a=e.handleLogin,n=Object(re.b)({defaultValues:{login:"",password:""},mode:"onChange"}),r=(n.reset,n.formState.errors),c=n.handleSubmit,s=n.control;return Object(L.jsxs)("div",{children:[Object(L.jsx)(k.a,{variant:"h4",children:"Login"}),Object(L.jsxs)(te.a,{mt:3,mb:3,direction:"column",spacing:2,children:[Object(L.jsx)(je.a,{children:Object(L.jsx)(re.a,{name:"login",control:s,rules:{required:{value:!0,message:"Can not be empty"},minLength:{value:5,message:"Can not be shorter 5 symbols"}},render:function(e){var t=e.field;return Object(L.jsx)(de.a,Object(Y.a)(Object(Y.a)({},t),{},{error:!!r.login,helperText:r.login?r.login.message:null,type:"email",id:"login",label:"Login",variant:"filled"}))}})}),Object(L.jsx)(je.a,{children:Object(L.jsx)(re.a,{name:"password",control:s,rules:{required:{value:!0,message:"Can not be empty"},minLength:{value:5,message:"Can not be shorter 5 symbols"},maxLength:{value:14,message:"Can not be longer 14 symbols"}},render:function(e){var t=e.field;return Object(L.jsx)(de.a,Object(Y.a)(Object(Y.a)({},t),{},{error:!!r.password,helperText:r.password?r.password.message:null,type:"password",id:"password",label:"Password",variant:"filled"}))}})})]}),Object(L.jsxs)(te.a,{mt:2,direction:"column",spacing:2,children:[Object(L.jsx)(R.a,{variant:"contained",onClick:c(a),children:"Log in"}),Object(L.jsxs)(k.a,{children:["Don't have and account?",Object(L.jsx)(De.a,{sx:{cursor:"pointer"},onClick:function(){return t("/register")},children:"Register"})]})]})]})},Re=function(){var e=Object(m.f)();return Object(L.jsxs)("div",{children:[Object(L.jsx)(k.a,{variant:"h4",children:"Register"}),Object(L.jsxs)(te.a,{mt:3,mb:3,direction:"column",spacing:2,children:[Object(L.jsx)(de.a,{id:"login",label:"Login",variant:"filled"}),Object(L.jsx)(de.a,{type:"password",id:"password",label:"Password",variant:"filled"}),Object(L.jsx)(de.a,{type:"password",id:"password-repeat",label:"Repeat password",variant:"filled"})]}),Object(L.jsxs)(te.a,{mt:2,direction:"column",spacing:2,children:[Object(L.jsx)(R.a,{variant:"contained",children:"Register"}),Object(L.jsxs)(k.a,{children:["Already registered? ",Object(L.jsx)(De.a,{sx:{cursor:"pointer"},onClick:function(){e.push("/login")},children:"Sign in"})," "]})]})]})},Ie=(a(312),function(){return Object(L.jsx)("div",{className:"login-wrapper",children:Object(L.jsx)(G.a,{sx:{width:"100%",maxWidth:"400px"},children:Object(L.jsx)(we.a,{children:Object(L.jsxs)(m.c,{children:[Object(L.jsx)(m.a,{path:"/login",component:ke}),Object(L.jsx)(m.a,{path:"/register",component:Re})]})})})})}),_e=a(373),Te=a(136),Be=a(387),Le=a(374),Fe=(a(313),a(314),{apiKey:"AIzaSyAcL8bZbMgkg5UdqrwXkWfN4B6fYJL72zs",authDomain:"vuecrm-practice.firebaseapp.com",projectId:"vuecrm-practice",storageBucket:"vuecrm-practice.appspot.com",messagingSenderId:"836081542694",appId:"1:836081542694:web:1e87a910a12bff4bb368e7",measurementId:"G-M9DZVSZ8R5"}),Ne=a(176),Ae=Object(g.a)((function(e){e.store;var t=Object(m.f)(),a=(Object(Ne.a)(Fe),Object(T.a)());Object(T.b)(a,(function(e){e||t.push("/login")}));var n=Object(_e.a)("(prefers-color-scheme: dark)"),c=r.a.useMemo((function(){return Object(Te.a)({palette:{mode:n?"dark":"light"}})}),[n]);return Object(L.jsxs)(Be.a,{theme:c,children:[Object(L.jsx)(Le.a,{}),Object(L.jsxs)(m.c,{children:[Object(L.jsx)(m.a,{path:"/currency-MUI-pages",component:ye}),Object(L.jsx)(m.a,{path:"/",component:Ie})]})]})}));a(316);s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(p.a,{children:Object(L.jsx)(Ae,{store:f})})}),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.2b613bdd.chunk.js.map